[
  {
    "type": "npc",
    "id": "DKZ_MAQUIS_ENGINEER",
    "class": "NC_MAQUIS_ENGINEER",
    "attitude": 0,
    "mission": 7,
    "chat": "TALK_MAQUIS_ENGINEER_ROOT",
    "mission_offered": "DKZ_MAQUIS_ENGINEER_MISSION_1",
    "faction": "maquis"
  },
  {
    "type": "npc_class",
    "id": "NC_MAQUIS_ENGINEER",
    "name": { "str": "Maquis-Engineer" },
    "job_description": "I'm here to find stuff to scavenge machines and electronics and build something with them.",
    "common": false,
    "traits": [ { "group": "DKZ_starting_traits" }, { "group": "Appearance_demographics" }, { "trait": "ROBUST", "prob": 40 } ],
    "skills": [
      { "skill": "ALL", "level": { "sum": [ { "dice": [ 3, 2 ] }, { "constant": -4 } ] } },
      { "skill": "computer", "bonus": { "rng": [ 4, 8 ] } },
      { "skill": "electronics", "bonus": { "rng": [ 4, 8 ] } },
      { "skill": "mechanics", "bonus": { "rng": [ 2, 4 ] } },
      { "skill": "cooking", "bonus": { "rng": [ 2, 3 ] } },
      { "skill": "fabrication", "bonus": { "rng": [ 2, 4 ] } },
      { "skill": "survival", "bonus": { "rng": [ 1, 2 ] } },
      { "skill": "dodge", "bonus": { "rng": [ 1, 2 ] } },
      { "skill": "melee", "bonus": { "rng": [ 1, 3 ] } },
      { "skill": "unarmed", "bonus": { "rng": [ 1, 3 ] } },
      { "skill": "bashing", "bonus": { "rng": [ 1, 3 ] } },
      { "skill": "gun", "bonus": { "rng": [ 2, 3 ] } },
      { "skill": "pistol", "bonus": { "rng": [ 2, 3 ] } },
      { "skill": "shotgun", "bonus": { "rng": [ 1, 2 ] } },
      { "skill": "smg", "bonus": { "rng": [ 1, 2 ] } },
      { "skill": "rifle", "bonus": { "rng": [ 2, 3 ] } }
    ],
    "worn_override": "NC_MAQUIS_ENGINEER_worn",
    "weapon_override": "NC_MAQUIS_ENGINEER_weapon",
    "carry_override": "NC_MAQUIS_ENGINEER_carry",
    "bonus_str": { "rng": [ -1, 1 ] },
    "bonus_dex": { "rng": [ -1, 2 ] },
    "bonus_int": { "rng": [ 3, 5 ] },
    "bonus_per": { "rng": [ -1, 3 ] }
  },
  {
    "id": "NC_MAQUIS_ENGINEER_worn",
    "type": "item_group",
    "subtype": "collection",
    "entries": [
      {
        "distribution": [ { "item": "boxer_shorts", "prob": 50 }, { "item": "briefs", "prob": 50 }, { "item": "boxer_briefs", "prob": 50 } ]
      },
      { "distribution": [ { "item": "socks", "prob": 50 }, { "item": "socks_ankle", "prob": 50 } ] },
      {
        "distribution": [
          { "item": "jeans", "prob": 10 },
          { "item": "pants", "prob": 10 },
          { "item": "pants_leather", "prob": 20 },
          { "item": "pants_cargo", "prob": 20 },
          { "item": "technician_pants_gray", "prob": 60 },
          { "item": "pants_army", "prob": 50 },
          { "item": "bunker_pants", "prob": 20 }
        ]
      },
      {
        "distribution": [ { "item": "tshirt", "prob": 80 }, { "item": "polo_shirt", "prob": 20 }, { "item": "tank_top", "prob": 20 } ]
      },
      {
        "distribution": [
          { "item": "null", "prob": 20 },
          { "item": "hoodie", "prob": 20 },
          { "item": "jacket_light", "prob": 20 },
          { "item": "jacket_leather", "prob": 20 },
          { "item": "jacket_flannel", "prob": 20 },
          { "item": "trenchcoat", "prob": 20 },
          { "item": "jacket_jean", "prob": 20 },
          { "item": "jacket_army", "prob": 20 },
          { "item": "bunker_coat", "prob": 10 },
          { "item": "jacket_windbreaker", "prob": 10 },
          { "item": "kevlar", "prob": 5 },
          { "item": "trenchcoat", "prob": 20 },
          { "item": "ballistic_vest_esapi", "prob": 30 }
        ]
      },
      {
        "distribution": [
          { "item": "bandana_head", "prob": 80 },
          { "item": "hat_ball", "prob": 10 },
          { "item": "hat_hard", "prob": 10 },
          { "item": "helmet_bike", "prob": 10 },
          { "item": "helmet_riot", "prob": 10 },
          { "item": "helmet_motor", "prob": 10 },
          { "item": "hat_hunting", "prob": 10 },
          { "item": "hat_hunting", "prob": 10 }
        ]
      },
      {
        "distribution": [
          { "item": "tshirt", "prob": 20 },
          { "item": "polo_shirt", "prob": 20 },
          { "item": "dress_shirt", "prob": 20 },
          { "item": "tank_top", "prob": 20 }
        ]
      },
      {
        "distribution": [ { "item": "gloves_leather", "prob": 50 }, { "item": "gloves_fingerless", "prob": 50 }, { "item": "null", "prob": 5 } ]
      },
      {
        "distribution": [ { "item": "keffiyeh", "prob": 50 }, { "item": "bandana", "prob": 50 }, { "item": "null", "prob": 5 } ]
      },
      {
        "distribution": [ { "item": "backpack", "prob": 50 }, { "item": "backpack_leather", "prob": 50 }, { "item": "null", "prob": 5 } ]
      },
      { "group": "DKZ_armor_improvised_arm", "prob": 90 },
      { "group": "DKZ_armor_improvised_leg", "prob": 90 }
    ]
  },
  {
    "type": "item_group",
    "id": "NC_MAQUIS_ENGINEER_weapon",
    "subtype": "distribution",
    "entries": [
      { "item": "knife_butcher", "prob": 20 },
      { "item": "hatchet", "prob": 20 },
      { "item": "ax", "prob": 20 },
      { "item": "machete", "prob": 20 },
      { "item": "knife_combat", "prob": 20 },
      { "item": "hammer", "prob": 20 },
      { "item": "wrench", "prob": 20 },
      { "item": "hammer_sledge", "prob": 10 },
      { "item": "hammer_sledge_short", "prob": 10 },
      { "item": "pipe", "prob": 20 },
      { "item": "bat", "prob": 20 },
      { "item": "bat_metal", "prob": 20 },
      { "item": "crowbar", "prob": 50 }
    ]
  },
  {
    "type": "item_group",
    "id": "NC_MAQUIS_ENGINEER_carry",
    "subtype": "distribution",
    "entries": [
      { "group": "rad_gear", "count-min": 1, "count-max": 2, "prob": 90 },
      { "group": "fireman_gear", "count-min": 1, "count-max": 2, "prob": 90 },
      { "item": "baton", "prob": 100 }
    ]
  },
  {
    "//": "-----------------------------------------------------------------------------------------------------------------------",
    "id": "TALK_MAQUIS_ENGINEER_ROOT",
    "type": "talk_topic",
    "dynamic_line": {
      "u_is_wearing": "badge_marshal",
      "yes": [ "Are you lost, marshal?", "Oh, a U.S. marshal, where did all of you guys go?." ],
      "no": [ "Welcome…", "Here to trade, I hope?", "Safe travels." ]
    },
    "responses": [
      {
        "text": "Lets set a combat strategy",
        "condition": { "npc_has_var": "temporal_follower", "type": "general", "context": "techical_recruit", "value": "yes" },
        "topic": "TALK_COMBAT_COMMANDS"
      },
      {
        "text": "I need a technician for an upcoming mission, interested?",
        "topic": "TALK_MAQUIS_TECHNICAL_RECRUIT",
        "condition": {
          "and": [
            { "u_compare_var": "maquis_recruit", "type": "counter", "context": "techical_recruit", "op": ">", "value": 0 },
            { "npc_has_trait": "DKZ_TECH" }
          ]
        }
      },
      { "text": "Let's trade.", "effect": "start_trade", "topic": "TALK_MAQUIS_ENGINEER_ROOT" },
      { "text": "What are you doing here?", "topic": "TALK_MAQUIS_ENGINEER_DOING" },
      {
        "text": "[MISSION] I'm looking for Chad Erikson, Randy sent me.",
        "condition": {
          "and": [
            { "not": { "u_has_var": "u_met_Chad_Erikson", "type": "general", "context": "meeting", "value": "yes" } },
            { "u_has_mission": "MISSION_CHECK_UP_ON_BIG_BROTHER" }
          ]
        },
        "topic": "TALK_MAQUIS_ENGINEER_BIG_BROTHER"
      },
      {
        "text": "Is there anything I can do to help you out?",
        "condition": {
          "and": [
            { "not": { "npc_has_var": "Maquis_Engineer_Mission1", "type": "general", "context": "meeting", "value": "yes" } },
            { "not": "has_many_assigned_mission" },
            { "not": "has_assigned_mission" }
          ]
        },
        "topic": "TALK_MISSION_LIST"
      },
      { "text": "About that mission…", "topic": "TALK_MISSION_INQUIRE", "condition": "has_assigned_mission" },
      { "text": "See you later.", "topic": "TALK_DONE" }
    ]
  },
  {
    "//": "-----------------------------------------------------------------------------------------------------------------------",
    "id": "TALK_MAQUIS_ENGINEER_BIG_BROTHER",
    "type": "talk_topic",
    "dynamic_line": [ "I'm not sure where Mr. Erikson is at right now." ],
    "responses": [ { "text": "Ok, Thanks.", "topic": "TALK_NONE" }, { "text": "Ok, I have to go now.", "topic": "TALK_DONE" } ]
  },
  {
    "//": "-----------------------------------------------------------------------------------------------------------------------",
    "id": "TALK_MAQUIS_ENGINEER_DOING",
    "type": "talk_topic",
    "dynamic_line": [
      "There is an arrangement with everyone that lives here, the bottom two floors are a free trade zone and the upper floors are for the alien resistance operation.  We all help them keep the outside defences in place and warn of any zombies or xenoids around the perimeter.  They really help provide cover when we're moving cars in or out.",
      "I found this vehicle here and I don't know if I should repair it or use it for parts.  Either way it will make me some money somehow."
    ],
    "responses": [
      { "text": "Let's trade.", "effect": "start_trade", "topic": "TALK_MAQUIS_ENGINEER_ROOT" },
      { "text": "Nice arrangement for everyone.", "topic": "TALK_MAQUIS_ENGINEER_ROOT" },
      { "text": "Ok, good bye.", "topic": "TALK_DONE" }
    ]
  },
  {
    "//": "-----------------------------------------------------------------------------------------------------------------------",
    "id": "DKZ_MAQUIS_ENGINEER_MISSION_1",
    "type": "mission_definition",
    "name": { "str": "A swage and die set of what?" },
    "description": "Find a swage and die set.",
    "goal": "MGOAL_FIND_ITEM",
    "difficulty": 5,
    "value": 40000,
    "item": "swage",
    "count": 1,
    "end": {
      "effect": [
        { "u_adjust_var": "maquis_morale", "type": "counter", "context": "refugee_center", "adjustment": 3 },
        { "npc_add_var": "Maquis_Mechanic_Mission2", "type": "mission", "context": "flag", "value": "yes" }
      ]
    },
    "followup": "DKZ_MAQUIS_ENGINEER_MISSION_2",
    "origins": [ "ORIGIN_SECONDARY" ],
    "dialogue": {
      "describe": "I need you to find me something.",
      "offer": "A swage and die set is used for testing higher mechanical tolerances and intricate fabrication, this would be extremely useful with repairs and maintance of everything in the building.",
      "accepted": "Thank you.  This will really help out the resistance organization.",
      "rejected": "Oh well.  I'll see if I can find another supplier, thanks.",
      "advice": "A steel factory or lumbermill might have one, maybe even a stray or a zombie with a toolbelt?",
      "inquire": "How is the search going?",
      "success": "Thanks.",
      "success_lie": "What good does this do us?",
      "failure": "I wonder where it all went…"
    }
  },
  {
    "//": "-----------------------------------------------------------------------------------------------------------------------",
    "id": "DKZ_MAQUIS_ENGINEER_MISSION_2",
    "type": "mission_definition",
    "name": { "str": "Looking for hackPRO exploit scripts" },
    "description": "Find the last hackPRO exploits and hacks",
    "goal": "MGOAL_FIND_ITEM",
    "difficulty": 6,
    "value": 20000,
    "item": "software_hacking",
    "count": 1,
    "end": {
      "effect": [
        { "u_adjust_var": "maquis_morale", "type": "counter", "context": "refugee_center", "adjustment": 1 },
        { "npc_add_var": "Maquis_Engineer_Mission1", "type": "mission", "context": "flag", "value": "yes" }
      ]
    },
    "followup": "DKZ_MAQUIS_ENGINEER_MISSION_2",
    "origins": [ "ORIGIN_SECONDARY" ],
    "dialogue": {
      "describe": "I need you to find me something.",
      "offer": "I need to be on the look out for a 'hackPRO' update, it helps with work-arounds on electronics that need repair.",
      "accepted": "Thank you.  The USB drive should display the contents as 'hackPRO'.",
      "rejected": "Oh well.  I'll see if someone else can find it, thanks.",
      "advice": "The best place would probably be a goverment research lab, but then again things like this seem to end up in the trash all the time.  Just keep your eyes open for a USB drive that displays the content as 'hackPRO'.",
      "inquire": "How is the search going?",
      "success": "Thanks.",
      "success_lie": "What good does this do us?",
      "failure": "I wonder where it all went…"
    }
  }
]
