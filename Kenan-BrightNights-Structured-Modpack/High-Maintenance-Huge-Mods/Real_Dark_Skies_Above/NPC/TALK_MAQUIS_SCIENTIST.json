[
  {
    "type": "npc",
    "id": "DKZ_MAQUIS_SCIENTIST",
    "class": "NC_MAQUIS_SCIENTIST",
    "attitude": 0,
    "mission": 7,
    "chat": "TALK_MAQUIS_SCIENTIST_ROOT",
    "mission_offered": "DKZ_MAQUIS_SCIENTIST_MATH_MISSION_1",
    "faction": "maquis"
  },
  {
    "type": "npc_class",
    "id": "NC_MAQUIS_SCIENTIST",
    "name": { "str": "Maquis-Scientist" },
    "job_description": "I'm here to salvage pre-cataclysm vehicles to make my own kill-dozer.",
    "common": false,
    "traits": [
      { "group": "DKZ_starting_traits" },
      { "group": "Appearance_demographics" },
      { "trait": "WAKEFUL", "prob": 75 },
      { "trait": "GOODHEARING", "prob": 75 },
      { "trait": "ROBUST", "prob": 30 },
      { "trait": "PRETTY", "prob": 5 },
      { "trait": "ANTIJUNK", "prob": 50 },
      { "trait": "NAUSEA", "prob": 10 },
      { "trait": "HUNGER", "prob": 20 },
      { "trait": "DEX_ALPHA", "prob": 10 },
      { "trait": "INT_ALPHA", "prob": 90 },
      { "trait": "PER_ALPHA", "prob": 10 }
    ],
    "skills": [
      { "skill": "ALL", "level": { "sum": [ { "dice": [ 3, 2 ] }, { "constant": -4 } ] } },
      { "skill": "computer", "bonus": { "rng": [ 4, 6 ] } },
      { "skill": "fabrication", "bonus": { "rng": [ 1, 3 ] } },
      { "skill": "mechanics", "bonus": { "rng": [ 1, 3 ] } },
      { "skill": "electronics", "bonus": { "rng": [ 3, 5 ] } },
      { "skill": "cooking", "bonus": { "rng": [ 4, 6 ] } },
      { "skill": "survival", "bonus": { "rng": [ 0, 1 ] } },
      { "skill": "dodge", "bonus": { "rng": [ 2, 3 ] } },
      { "skill": "melee", "bonus": { "rng": [ 1, 2 ] } },
      { "skill": "unarmed", "bonus": { "rng": [ 1, 2 ] } },
      { "skill": "bashing", "bonus": { "rng": [ 1, 2 ] } },
      { "skill": "gun", "bonus": { "rng": [ 1, 2 ] } },
      { "skill": "pistol", "bonus": { "rng": [ 1, 2 ] } },
      { "skill": "rifle", "bonus": { "rng": [ 0, 2 ] } }
    ],
    "worn_override": "NC_MAQUIS_SCIENTIST_worn",
    "weapon_override": "NC_MAQUIS_SCIENTIST_weapon",
    "carry_override": "NC_MAQUIS_SCIENTIST_carry",	
    "bonus_str": { "rng": [ -1, 3 ] },
    "bonus_dex": { "rng": [ -1, 3 ] },
    "bonus_int": { "rng": [ 3, 5 ] },
    "bonus_per": { "rng": [ -1, 2 ] }
  },

  {
    "id": "NC_MAQUIS_SCIENTIST_worn",
    "type": "item_group",
    "subtype": "collection",
    "entries": [
      {
        "distribution": [ { "item": "boxer_shorts", "prob": 50 }, { "item": "briefs", "prob": 50 }, { "item": "boxer_briefs", "prob": 50 } ]
      },
      { "distribution": [ { "item": "socks", "prob": 50 }, { "item": "socks_ankle", "prob": 50 } ] },
      {
        "distribution": [
          { "item": "jeans", "prob": 10 },
          { "item": "pants", "prob": 10 },
          { "item": "pants_leather", "prob": 20 },
          { "item": "pants_cargo", "prob": 20 },
          { "item": "technician_pants_gray", "prob": 60 },
          { "item": "pants_army", "prob": 50 },
          { "item": "bunker_pants", "prob": 20 }
        ]
      },
      {
        "distribution": [ { "item": "tshirt", "prob": 80 }, { "item": "polo_shirt", "prob": 20 }, { "item": "tank_top", "prob": 20 } ]
      },
      {
        "distribution": [
          { "item": "null", "prob": 20 },
          { "item": "hoodie", "prob": 20 },
          { "item": "jacket_light", "prob": 20 },
          { "item": "jacket_leather", "prob": 20 },
          { "item": "jacket_flannel", "prob": 20 },
          { "item": "trenchcoat", "prob": 20 },
          { "item": "jacket_jean", "prob": 20 },
          { "item": "jacket_army", "prob": 20 },
          { "item": "bunker_coat", "prob": 10 },
          { "item": "jacket_windbreaker", "prob": 10 },
          { "item": "kevlar", "prob": 5 },
          { "item": "trenchcoat", "prob": 20 },
          { "item": "ballistic_vest_esapi", "prob": 30 }
        ]
      },
      {
        "distribution": [
          { "item": "bandana_head", "prob": 80 },
          { "item": "hat_ball", "prob": 10 },
          { "item": "hat_hard", "prob": 10 },
          { "item": "helmet_bike", "prob": 10 },
          { "item": "helmet_riot", "prob": 10 },
          { "item": "helmet_motor", "prob": 10 },
          { "item": "hat_hunting", "prob": 10 },
          { "item": "hat_hunting", "prob": 10 }
        ]
      },
      {
        "distribution": [
          { "item": "tshirt", "prob": 20 },
          { "item": "polo_shirt", "prob": 20 },
          { "item": "dress_shirt", "prob": 20 },
          { "item": "tank_top", "prob": 20 }
        ]
      },
      {
        "distribution": [ { "item": "gloves_leather", "prob": 50 }, { "item": "gloves_fingerless", "prob": 50 }, { "item": "null", "prob": 5 } ]
      },
      {
        "distribution": [ { "item": "keffiyeh", "prob": 50 }, { "item": "bandana", "prob": 50 }, { "item": "null", "prob": 5 } ]
      },
      {
        "distribution": [ { "item": "backpack", "prob": 50 }, { "item": "backpack_leather", "prob": 50 }, { "item": "null", "prob": 5 } ]
      }
    ]
  },
  {
    "type": "item_group",
    "id": "NC_MAQUIS_SCIENTIST_weapon",
    "subtype": "distribution",
    "entries": [
      { "item": "knife_butcher", "prob": 20 },
      { "item": "hatchet", "prob": 20 },
      { "item": "ax", "prob": 20 },
      { "item": "machete", "prob": 20 },
      { "item": "knife_combat", "prob": 20 },
      { "item": "hammer", "prob": 20 },
      { "item": "wrench", "prob": 20 },
      { "item": "hammer_sledge", "prob": 10 },
      { "item": "hammer_sledge_short", "prob": 10 },
      { "item": "pipe", "prob": 20 },
      { "item": "bat", "prob": 20 },
      { "item": "bat_metal", "prob": 20 },
      { "item": "crowbar", "prob": 50 }
    ]
  },
  {
    "type": "item_group",
    "id": "NC_MAQUIS_SCIENTIST_carry",
    "subtype": "distribution",
    "entries": [
      { "group": "rad_gear", "count-min": 1, "count-max": 2, "prob": 90 },
      { "group": "fireman_gear", "count-min": 1, "count-max": 2, "prob": 90 },
	  { "item": "insecticide", "prob": 20 },
      { "item": "antifungal", "prob": 20 },
      { "item": "antiparasitic", "prob": 20 }
    ]
  },
  {
    "//": "-----------------------------------------------------------------------------------------------------------------------",
    "id": "TALK_MAQUIS_SCIENTIST_ROOT",
    "type": "talk_topic",
    "dynamic_line": {
      "u_is_wearing": "badge_marshal",
      "yes": [ "Are you lost, marshal?", "What can I do for you marshal?." ],
      "no": [ "Welcome…" ]
    },
    "responses": [
      {
        "text": "Lets set a combat strategy",
        "condition": { "npc_has_var": "temporal_follower", "type": "general", "context": "science_recruit", "value": "yes" },
        "topic": "TALK_COMBAT_COMMANDS"
      },
      {
        "text": "I need a scientist to supervise an upcoming mission, interested?",
        "topic": "TALK_MAQUIS_SCIENCE_RECRUIT",
        "condition": {
          "and": [
            { "u_compare_var": "maquis_recruit", "type": "counter", "context": "science_recruit", "op": ">", "value": 0 },
            { "npc_has_trait": "DKZ_SCIENTIST" }
          ]
        }
      },
      { "text": "Let's trade.", "effect": "start_trade", "topic": "TALK_MAQUIS_SCIENTIST_ROOT" },
      { "text": "What are you doing here?", "topic": "TALK_MAQUIS_SCIENTIST_DOING" },
      { "text": "What is downstairs?", "topic": "TALK_MAQUIS_SCIENTIST_DOWNSTAIRS" },
      {
        "text": "[MISSION] I'm looking for Chad Erikson, Randy sent me.",
        "condition": {
          "and": [
            { "not": { "u_has_var": "u_met_Chad_Erikson", "type": "general", "context": "meeting", "value": "yes" } },
            { "u_has_mission": "MISSION_CHECK_UP_ON_BIG_BROTHER" }
          ]
        },
        "topic": "TALK_MAQUIS_SCIENTIST_BIG_BROTHER"
      },
      {
        "text": "Is there anything I can do to help you out?",
        "condition": {
          "and": [
            { "not": { "npc_has_var": "Maquis_Scientist_Mission1", "type": "general", "context": "meeting", "value": "yes" } },
            { "not": "has_many_assigned_mission" },
            { "not": "has_assigned_mission" }
          ]
        }
      },
      { "text": "About that mission…", "topic": "TALK_MISSION_INQUIRE", "condition": "has_assigned_mission" },
      { "text": "See you later.", "topic": "TALK_DONE" }
    ]
  },
  {
    "//": "-----------------------------------------------------------------------------------------------------------------------",
    "id": "TALK_MAQUIS_SCIENTIST_BIG_BROTHER",
    "type": "talk_topic",
    "dynamic_line": [
      "I just saw him on the top floors, not sure where exactly.",
      "I was trying to find him myself.  I'm sure he's up in his office upstairs."
    ],
    "responses": [ { "text": "Ok, Thanks.", "topic": "TALK_NONE" }, { "text": "Ok, I have to go now.", "topic": "TALK_DONE" } ]
  },
  {
    "//": "-----------------------------------------------------------------------------------------------------------------------",
    "id": "TALK_MAQUIS_SCIENTIST_DOING",
    "type": "talk_topic",
    "dynamic_line": [
      "There is an arrangement with everyone that lives here, the bottom two floors are a free trade zone and the upper floors are for the alien resistance operation.  We all help them keep the outside defences in our own ways."
    ],
    "responses": [
      { "text": "Let's trade.", "effect": "start_trade", "topic": "TALK_MAQUIS_SCIENTIST_ROOT" },
      { "text": "Nice arrangement for everyone.", "topic": "TALK_MAQUIS_SCIENTIST_ROOT" },
      { "text": "Ok, good bye.", "topic": "TALK_DONE" }
    ]
  },
  {
    "//": "-----------------------------------------------------------------------------------------------------------------------",
    "id": "TALK_MAQUIS_SCIENTIST_DOWNSTAIRS",
    "type": "talk_topic",
    "dynamic_line": [
      "I don't usually go too far down stairs, not because don't like those guys, nor because they wouldn't let me down there, I'm just lazy and prefer working up here.",
      "I'm too busy with this engine here to go upstairs much.",
      "Those guys up stairs are angels!  I was helping with the barricades outside when a crawling zombie revived suddenly and cut my leg.  Almost immediately, one of the snipers on the roof blew its head off.  Saved my life."
    ],
    "responses": [
      { "text": "Let's trade.", "effect": "start_trade", "topic": "TALK_MAQUIS_SCIENTIST_ROOT" },
      { "text": "Well, bye.", "topic": "TALK_DONE" }
    ]
  },
  {
    "//": "-----------------------------------------------------------------------------------------------------------------------",
    "id": "DKZ_MAQUIS_SCIENTIST_MATH_MISSION_1",
    "type": "mission_definition",
    "name": { "str": "Checking for MathMAX Software Updates" },
    "description": "Find the latest MathMAX firmware patch for",
    "goal": "MGOAL_FIND_ITEM",
    "difficulty": 6,
    "value": 20000,
    "item": "software_math",
    "count": 1,
    "end": {
      "effect": [
        { "u_adjust_var": "maquis_morale", "type": "counter", "context": "refugee_center", "adjustment": 1 },
        { "npc_add_var": "Maquis_Scientist_Mission1", "type": "mission", "context": "flag", "value": "yes" }
      ]
    },
    "origins": [ "ORIGIN_SECONDARY" ],
    "dialogue": {
      "describe": "I need you to find me something.",
      "offer": "I use a software package called MathMAX for my ongoing research, but I need a few add-ons to optimize the workflow.  Find me a USB drive that contains an update.",
      "accepted": "Thank you.  The USB drive should display the contents as 'MathMAX'.",
      "rejected": "Oh well.  I'll see if someone else can find it, thanks.",
      "advice": "The best place would probably be a goverment research lab, but then again things like this seem to end up in the trash all the time.  Just keep your eyes open for a USB drive that displays the content as 'MathMAX'.",
      "inquire": "How is the search going?",
      "success": "Thanks.",
      "success_lie": "What good does this do us?",
      "failure": "I wonder where it all went…"
    }
  }
]
