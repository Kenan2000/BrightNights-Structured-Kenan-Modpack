[
  {
    "type": "npc",
    "id": "DKZ_MAQUIS_ENGINEER",
    "class": "NC_MAQUIS_ENGINEER",
    "attitude": 0,
    "mission": 7,
    "chat": "TALK_MAQUIS_ENGINEER_ROOT",
    "mission_offered": "DKZ_MAQUIS_ENGINEER_MISSION_1",
    "faction": "maquis"
  },
  {
    "type": "npc_class",
    "id": "NC_MAQUIS_ENGINEER",
    "name": { "str": "Maquis-Engineer" },
    "job_description": "I'm here to find stuff to scavenge machines and electronics and build something with them.",
    "common": false,
    "traits": [ { "group": "DKZ_starting_traits" }, { "group": "Appearance_demographics" }, { "trait": "ROBUST", "prob": 40 } ],
    "skills": [
      { "skill": "ALL", "level": { "sum": [ { "dice": [ 3, 2 ] }, { "constant": -4 } ] } },
      { "skill": "computer", "bonus": { "rng": [ 4, 8 ] } },
      { "skill": "electronics", "bonus": { "rng": [ 4, 8 ] } },
      { "skill": "mechanics", "bonus": { "rng": [ 2, 4 ] } },
      { "skill": "cooking", "bonus": { "rng": [ 2, 3 ] } },
      { "skill": "fabrication", "bonus": { "rng": [ 2, 4 ] } },
      { "skill": "survival", "bonus": { "rng": [ 1, 2 ] } },
      { "skill": "dodge", "bonus": { "rng": [ 1, 2 ] } },
      { "skill": "melee", "bonus": { "rng": [ 1, 3 ] } },
      { "skill": "unarmed", "bonus": { "rng": [ 1, 3 ] } },
      { "skill": "bashing", "bonus": { "rng": [ 1, 3 ] } },
      { "skill": "gun", "bonus": { "rng": [ 2, 3 ] } },
      { "skill": "pistol", "bonus": { "rng": [ 2, 3 ] } },
      { "skill": "shotgun", "bonus": { "rng": [ 1, 2 ] } },
      { "skill": "smg", "bonus": { "rng": [ 1, 2 ] } },
      { "skill": "rifle", "bonus": { "rng": [ 2, 3 ] } }
    ],
    "bonus_str": { "rng": [ -1, 1 ] },
    "bonus_dex": { "rng": [ -1, 2 ] },
    "bonus_int": { "rng": [ 3, 5 ] },
    "bonus_per": { "rng": [ -1, 3 ] }
  },
  {
    "//": "----------INVENTORY LOADOUTS-----------------------------------------------------------------------------------",
    "type": "item_group",
    "id": "NC_MAQUIS_ENGINEER_underwear_bottom_male",
    "subtype": "collection",
    "items": [ [ "boxer_shorts", 70 ], [ "briefs", 30 ], [ "boxer_briefs", 50 ] ]
  },
  {
    "type": "item_group",
    "id": "NC_MAQUIS_ENGINEER_underwear_bottom_female",
    "subtype": "collection",
    "items": [ [ "panties", 70 ], [ "boy_shorts", 50 ], [ "bikini_bottom", 10 ] ]
  },
  {
    "type": "item_group",
    "id": "NC_MAQUIS_ENGINEER_underwear_top_male",
    "subtype": "collection",
    "items": [ [ "null", 50 ], [ "undershirt", 50 ], [ "long_undertop", 20 ], [ "tank_top", 25 ] ]
  },
  {
    "type": "item_group",
    "id": "NC_MAQUIS_ENGINEER_underwear_top_female",
    "subtype": "collection",
    "items": [ [ "null", 10 ], [ "bra", 70 ], [ "sports_bra", 50 ], [ "tank_top", 50 ] ]
  },
  {
    "type": "item_group",
    "id": "NC_MAQUIS_ENGINEER_underwear_feet_male",
    "items": [ [ "null", 5 ], [ "socks", 80 ], [ "socks_ankle", 60 ], [ "socks_wool", 20 ] ]
  },
  {
    "type": "item_group",
    "id": "NC_MAQUIS_ENGINEER_underwear_feet_female",
    "items": [ [ "null", 5 ], [ "socks", 50 ], [ "socks_ankle", 30 ], [ "socks_wool", 10 ], [ "stockings", 20 ], [ "tights", 20 ] ]
  },
  {
    "type": "item_group",
    "id": "NC_MAQUIS_ENGINEER_pants_male",
    "subtype": "distribution",
    "entries": [
      { "item": "jeans", "prob": 20 },
      { "item": "pants", "prob": 20 },
      { "item": "pants_leather", "prob": 20 },
      { "item": "pants_cargo", "prob": 20 },
      { "item": "bunker_pants", "prob": 20 }
    ]
  },
  {
    "type": "item_group",
    "id": "NC_MAQUIS_ENGINEER_pants_female",
    "subtype": "distribution",
    "entries": [
      { "item": "jeans", "prob": 20 },
      { "item": "pants", "prob": 20 },
      { "item": "pants_leather", "prob": 20 },
      { "item": "pants_cargo", "prob": 20 },
      { "item": "skirt", "prob": 20 },
      { "item": "bunker_pants", "prob": 10 }
    ]
  },
  {
    "type": "item_group",
    "id": "NC_MAQUIS_ENGINEER_shirt_male",
    "subtype": "distribution",
    "entries": [
      { "item": "tshirt", "prob": 20 },
      { "item": "polo_shirt", "prob": 20 },
      { "item": "dress_shirt", "prob": 20 },
      { "item": "tank_top", "prob": 20 }
    ]
  },
  {
    "type": "item_group",
    "id": "NC_MAQUIS_ENGINEER_shirt_female",
    "subtype": "distribution",
    "entries": [
      { "item": "tshirt", "prob": 20 },
      { "item": "polo_shirt", "prob": 20 },
      { "item": "dress_shirt", "prob": 20 },
      { "item": "tank_top", "prob": 20 }
    ]
  },
  {
    "type": "item_group",
    "id": "NC_MAQUIS_ENGINEER_gloves",
    "subtype": "distribution",
    "entries": [
      { "item": "null", "prob": 60 },
      { "item": "gloves_leather", "prob": 20 },
      { "item": "gloves_fingerless", "prob": 20 }
    ]
  },
  {
    "type": "item_group",
    "id": "NC_MAQUIS_ENGINEER_coat",
    "subtype": "distribution",
    "entries": [
      { "item": "null", "prob": 20 },
      { "item": "hoodie", "prob": 20 },
      { "item": "jacket_light", "prob": 20 },
      { "item": "jacket_leather", "prob": 20 },
      { "item": "trenchcoat", "prob": 20 },
      { "item": "jacket_jean", "prob": 20 },
      { "item": "bunker_coat", "prob": 10 },
      { "item": "jacket_windbreaker", "prob": 10 },
      { "item": "kevlar", "prob": 5 }
    ]
  },
  {
    "type": "item_group",
    "id": "NC_MAQUIS_ENGINEER_shoes",
    "subtype": "distribution",
    "entries": [ { "item": "sneakers", "prob": 20 }, { "item": "boots", "prob": 20 }, { "item": "boots_bunker", "prob": 10 } ]
  },
  {
    "type": "item_group",
    "id": "NC_MAQUIS_ENGINEER_masks",
    "subtype": "distribution",
    "entries": [
      { "item": "null", "prob": 800 },
      { "item": "mask_dust", "prob": 10 },
      { "item": "bandana", "prob": 10 },
      { "item": "mask_filter", "prob": 10, "charges-min": 10 }
    ]
  },
  {
    "type": "item_group",
    "id": "NC_MAQUIS_ENGINEER_eyes",
    "subtype": "distribution",
    "entries": [ { "item": "null", "prob": 80 }, { "item": "glasses_safety", "prob": 20 }, { "item": "sunglasses", "prob": 20 } ]
  },
  {
    "type": "item_group",
    "id": "NC_MAQUIS_ENGINEER_hat",
    "subtype": "distribution",
    "entries": [
      { "item": "null", "prob": 80 },
      { "item": "hat_ball", "prob": 10 },
      { "item": "hat_hard", "prob": 10 },
      { "item": "helmet_bike", "prob": 10 },
      { "item": "helmet_motor", "prob": 10 },
      { "item": "hat_hunting", "prob": 10 }
    ]
  },
  {
    "type": "item_group",
    "id": "NC_MAQUIS_ENGINEER_extra",
    "subtype": "distribution",
    "entries": [
      { "item": "null", "prob": 5 },
      { "item": "backpack", "prob": 25 },
      { "item": "backpack_leather", "prob": 25 },
      { "item": "rucksack", "prob": 5 }
    ]
  },
  {
    "type": "item_group",
    "id": "NC_MAQUIS_ENGINEER_bashing",
    "subtype": "distribution",
    "entries": [
      { "item": "hammer", "prob": 20 },
      { "item": "wrench", "prob": 20 },
      { "item": "hammer_sledge", "prob": 10 },
      { "item": "hammer_sledge_short", "prob": 10 },
      { "item": "pipe", "prob": 20 },
      { "item": "bat", "prob": 20 },
      { "item": "bat_metal", "prob": 20 },
      { "item": "crowbar", "prob": 20 }
    ]
  },
  {
    "type": "item_group",
    "id": "NC_MAQUIS_ENGINEER_cutting",
    "subtype": "distribution",
    "entries": [
      { "item": "knife_butcher", "prob": 20 },
      { "item": "hatchet", "prob": 20 },
      { "item": "ax", "prob": 20 },
      { "item": "machete", "prob": 20 },
      { "item": "knife_combat", "prob": 20 }
    ]
  },
  {
    "type": "item_group",
    "id": "NC_MAQUIS_ENGINEER_stabbing",
    "subtype": "distribution",
    "entries": [ { "item": "spear_knife", "prob": 50 }, { "item": "spear_rebar", "prob": 5 } ]
  },
  {
    "type": "item_group",
    "id": "NC_MAQUIS_ENGINEER_throw",
    "subtype": "distribution",
    "entries": [ { "item": "throwing_knife", "prob": 50 }, { "item": "throwing_axe", "prob": 50 } ]
  },
  {
    "type": "item_group",
    "id": "NC_MAQUIS_ENGINEER_archery",
    "subtype": "distribution",
    "entries": [ { "item": "crossbow", "prob": 5 } ]
  },
  {
    "type": "item_group",
    "id": "NC_MAQUIS_ENGINEER_pistols",
    "subtype": "distribution",
    "entries": [ { "group": "guns_pistol_milspec", "prob": 70 } ]
  },
  {
    "type": "item_group",
    "id": "NC_MAQUIS_ENGINEER_shotgun",
    "subtype": "distribution",
    "entries": [ { "group": "guns_shotgun_milspec", "prob": 70 } ]
  },
  {
    "type": "item_group",
    "id": "NC_MAQUIS_ENGINEER_smg",
    "subtype": "distribution",
    "entries": [ { "group": "guns_smg_milspec", "prob": 70 } ]
  },
  {
    "type": "item_group",
    "id": "NC_MAQUIS_ENGINEER_rifle",
    "subtype": "distribution",
    "entries": [ { "group": "guns_rifle_milspec", "prob": 70 } ]
  },
  {
    "type": "item_group",
    "id": "NC_MAQUIS_ENGINEER_launcher",
    "subtype": "distribution",
    "entries": [ { "group": "guns_launcher_milspec", "prob": 70 } ]
  },
  {
    "type": "item_group",
    "id": "NC_MAQUIS_ENGINEER_weapon_random",
    "subtype": "distribution",
    "entries": [ { "item": "q_staff", "prob": 100 } ]
  },
  {
    "type": "item_group",
    "id": "NC_MAQUIS_ENGINEER_misc",
    "subtype": "distribution",
    "entries": [
      { "group": "rad_gear", "count-min": 1, "count-max": 2, "prob": 90 },
      { "group": "fireman_gear", "count-min": 1, "count-max": 2, "prob": 90 },
      { "item": "baton", "prob": 100 }
    ]
  },
  {
    "//": "-----------------------------------------------------------------------------------------------------------------------",
    "id": "TALK_MAQUIS_ENGINEER_ROOT",
    "type": "talk_topic",
    "dynamic_line": {
      "u_is_wearing": "badge_marshal",
      "yes": [ "Are you lost, marshal?", "Oh, a U.S. marshal, where did all of you guys go?." ],
      "no": [ "Welcome…", "Here to trade, I hope?", "Safe travels." ]
    },
    "responses": [
      {
        "text": "Lets set a combat strategy…",
        "condition": { "npc_has_var": "temporal_follower", "type": "general", "context": "maquis", "value": "yes" },
        "topic": "TALK_COMBAT_COMMANDS"
      },
      { "text": "Let's trade.", "effect": "start_trade", "topic": "TALK_MAQUIS_ENGINEER_ROOT" },
      { "text": "What are you doing here?", "topic": "TALK_MAQUIS_ENGINEER_DOING" },
      { "text": "What is upstairs?", "topic": "TALK_MAQUIS_ENGINEER_UPSTAIRS" },
      {
        "text": "[MISSION] I'm looking for Chad Erikson, Randy sent me.",
        "condition": {
          "and": [
            { "not": { "u_has_var": "u_met_Chad_Erikson", "type": "general", "context": "meeting", "value": "yes" } },
            { "u_has_mission": "MISSION_CHECK_UP_ON_BIG_BROTHER" }
          ]
        },
        "topic": "TALK_MAQUIS_ENGINEER_BIG_BROTHER"
      },
      {
        "text": "Is there anything I can do to help you out?",
        "condition": {
          "and": [
            { "not": { "npc_has_var": "Maquis_Engineer_Mission1", "type": "general", "context": "meeting", "value": "yes" } },
            { "not": "has_many_assigned_mission" },
            { "not": "has_assigned_mission" }
          ]
        },
        "topic": "TALK_MISSION_LIST"
      },
      { "text": "About that mission…", "topic": "TALK_MISSION_INQUIRE", "condition": "has_assigned_mission" },
      { "text": "See you later.", "topic": "TALK_DONE" }
    ]
  },
  {
    "//": "-----------------------------------------------------------------------------------------------------------------------",
    "id": "TALK_MAQUIS_ENGINEER_BIG_BROTHER",
    "type": "talk_topic",
    "dynamic_line": [ "I'm not sure where Mr. Erikson is at right now." ],
    "responses": [ { "text": "Ok, Thanks.", "topic": "TALK_NONE" }, { "text": "Ok, I have to go now.", "topic": "TALK_DONE" } ]
  },
  {
    "//": "-----------------------------------------------------------------------------------------------------------------------",
    "id": "TALK_MAQUIS_ENGINEER_DOING",
    "type": "talk_topic",
    "dynamic_line": [
      "There is an arrangement with everyone that lives here, the bottom two floors are a free trade zone and the upper floors are for the alien resistance operation.  We all help them keep the outside defences in place and warn of any zombies or xenoids around the perimeter.  They really help provide cover when we're moving cars in or out.",
      "I found this vehicle here and I don't know if I should repair it or use it for parts.  Either way it will make me some money somehow."
    ],
    "responses": [
      { "text": "Let's trade.", "effect": "start_trade", "topic": "TALK_MAQUIS_ENGINEER_ROOT" },
      { "text": "Nice arrangement for everyone.", "topic": "TALK_MAQUIS_ENGINEER_ROOT" },
      { "text": "Ok, good bye.", "topic": "TALK_DONE" }
    ]
  },
  {
    "//": "-----------------------------------------------------------------------------------------------------------------------",
    "id": "TALK_MAQUIS_ENGINEER_UPSTAIRS",
    "type": "talk_topic",
    "dynamic_line": [
      "I don't usually go too far up stairs, not because don't like those guys, nor because they wouldn't let me up there, I'm just lazy and prefer working down here.",
      "I'm too busy with this engine here to go upstairs much.",
      "Those guys up stairs are angels!  I was helping with the barricades outside when a crawling zombie revived suddenly and cut my leg.  Almost immediately, one of the snipers on the roof blew its head off.  Saved my life."
    ],
    "responses": [
      { "text": "Let's trade.", "effect": "start_trade", "topic": "TALK_MAQUIS_ENGINEER_ROOT" },
      { "text": "Well, bye.", "topic": "TALK_DONE" }
    ]
  },
  {
    "//": "-----------------------------------------------------------------------------------------------------------------------",
    "id": "DKZ_MAQUIS_ENGINEER_MISSION_1",
    "type": "mission_definition",
    "name": { "str": "A swage and die set of what?" },
    "description": "Find a swage and die set.",
    "goal": "MGOAL_FIND_ITEM",
    "difficulty": 5,
    "value": 40000,
    "item": "swage",
    "count": 1,
    "end": {
      "effect": [
        { "u_adjust_var": "maquis_morale", "type": "counter", "context": "refugee_center", "adjustment": 3 },
        { "npc_add_var": "Maquis_Mechanic_Mission2", "type": "mission", "context": "flag", "value": "yes" }
      ]
    },
    "followup": "DKZ_MAQUIS_ENGINEER_MISSION_2",
    "origins": [ "ORIGIN_SECONDARY" ],
    "dialogue": {
      "describe": "I need you to find me something.",
      "offer": "A swage and die set is used for testing higher mechanical tolerances and intricate fabrication, this would be extremely useful with repairs and maintance of everything in the building.",
      "accepted": "Thank you.  This will really help out the resistance organization.",
      "rejected": "Oh well.  I'll see if I can find another supplier, thanks.",
      "advice": "A steel factory or lumbermill might have one, maybe even a stray or a zombie with a toolbelt?",
      "inquire": "How is the search going?",
      "success": "Thanks.",
      "success_lie": "What good does this do us?",
      "failure": "I wonder where it all went…"
    }
  },
  {
    "//": "-----------------------------------------------------------------------------------------------------------------------",
    "id": "DKZ_MAQUIS_ENGINEER_MISSION_2",
    "type": "mission_definition",
    "name": { "str": "Looking for hackPRO exploit scripts" },
    "description": "Find the latest hackPRO exploits and hacks",
    "goal": "MGOAL_FIND_ITEM",
    "difficulty": 6,
    "value": 20000,
    "item": "software_hacking",
    "count": 1,
    "end": {
      "effect": [
        { "u_adjust_var": "maquis_morale", "type": "counter", "context": "refugee_center", "adjustment": 1 },
        { "npc_add_var": "Maquis_Engineer_Mission1", "type": "mission", "context": "flag", "value": "yes" }
      ]
    },
    "followup": "DKZ_MAQUIS_ENGINEER_MISSION_2",
    "origins": [ "ORIGIN_SECONDARY" ],
    "dialogue": {
      "describe": "I need you to find me something.",
      "offer": "I need to be on the look out for a 'hackPRO' update, it helps with work-arounds on electronics that need repair.",
      "accepted": "Thank you.  The USB drive should display the contents as 'hackPRO'.",
      "rejected": "Oh well.  I'll see if someone else can find it, thanks.",
      "advice": "The best place would probably be a goverment research lab, but then again things like this seem to end up in the trash all the time.  Just keep your eyes open for a USB drive that displays the content as 'hackPRO'.",
      "inquire": "How is the search going?",
      "success": "Thanks.",
      "success_lie": "What good does this do us?",
      "failure": "I wonder where it all went…"
    }
  }
]
